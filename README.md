# CarrotMarket_test_Server_Skrr_Hoy

10/30 개발 일지

오늘 오전 10시에 진행된 라이징 테스트 OT를 통해 팀 배정이 되었고 구현해야 할 주제가 정해졌다. 우리팀은 당근 마켓을 구현하게 되었다.
생소한 앱을 구현해야하면 분석에 많은 시간이 들 것 같아 걱정이었는데 생각보다는 익숙한 앱을 하게되어 좋았다.
OT 이후 바로 기획서 작성을 해야해서 프론트 분들과 첫 릴레이 회의를 하게 되었는데, 처음으로 하는 협업이라 두 분 께서 친절하게 해주셨는데도 불구하고 의견을 나누는데 시간이 걸렸다.
각자의 의견을 보충해가며 기획서를 작성하였고 시간안에 잘 제출할 수 있었다. 후에 개발 트레이너 분들의 피드백을 받아 수정했다.

파일 : [-.pdf](https://github.com/mock-rc2/CarrotMarket_test_Server_Skrr_Hoy/files/7446724/-.pdf)

이후 Server는 두 명이서 한 서버를 구축하기 때문에 바로 이어서 스컬님과 ERD 짜기에 돌입했다.

같이 큰 틀을 짰는데, Location을 어떤식으로 처리할 지에 대해 많은 의견이 주고받아졌고 구현 방향이 정해졌다.
우리가 시도하는 방식은 town에 서울의 모든 행정동과 행정동의 위경도를 저장하고(약 400개), 홈 화면 등에서 위치에 따른 물품 조회를 하면 조회하려는 지역의 위경도에서 반경 N km 주변의 좌표르 구해 그 좌표 내에 중심 좌표가 있는 행정동에서 올라온 물품을 나타내는 식으로 구현할 예정이다.
나는 유저와 로케이션, 채팅 쪽 ERD를 위주로 구성하였다.

ERD 링크 : https://app.quickdatabasediagrams.com/#/d/JD5GzH

내일은 API 명세서와 서버 구축을 할 예정이다.


10/31 개발 일지

오늘 오후 2시부터 11시까지 약 9시간 동안 스컬님과 회의를 하였다.

오늘은 어제 진행했던 ERD의 일부 컬럼을 수정하고 보완하는 작업을 한 뒤, 위경도를 받아 주소로 변환해 주는 작업을 프론트 단에서 진행할지 백엔드 단에서 진행할지에 대한 회의를 한 후 API 명세서를 작업하였다.

반경 안에 행정동을 검색하는 것이 큰 문제인데, 이 부분에서 API가 없어서 수학적인 계산을 통해서 구현하려한다고 말씀드리니 프론트 팀에서 그 작업이 부담이 될 것 같다고 위경도 받아 주소로 변환하는 부분을 맡아주시겠다고 해서 많이 감사했다.

화면을 보면서 기능을 일일히 분석해 약 33개의 API 리스트를 작성하였는데, 스컬님은 화면 중심의 API와 도메인을 구성해보신 것 같았고 난 기능 중심의 API와 도메인을 생각하다보니 약간 서로 설득하는? 시간이 필요했다. 그러나 스컬님과 나 모두 좋은 기분으로 서로의 생각을 잘 전달할 수 있었기에 큰 문제 없이 수월하게 리스트를 작성했다.

API를 작성할 때 프론트를 담당하시는 록키님 한테도 어떤식으로 줘야할지, 어떤식으로 쓸 수 있으신지를 계속 여쭤봤고 나름 원활하게 커뮤니케이션을 하였다.

API 명세서 : [API 명세서 Templete_초고.xlsx](https://github.com/mock-rc2/CarrotMarket_test_Server_Skrr_Hoy/files/7449017/API.Templete_.xlsx)


둘 다 9시간동안 계속하여 구글 meet으로 API 리스트 작업을 진행하다보니 많은 피로감이 느껴져서 디테일하게 API를 볼 수 없느 상태가 되어서 오늘은 API 명세서 작업까지만 하고 내일 오늘 한 명세서의 보완 작업과 서버 구축 후 API를 만들어 보기로 했다.



11/1 개발일지

오늘은 스컬님과 어제 작성한 API 명세서를 다듬어서 어제 잘못 기입한 부분들을 수정하고, 서버를 구축한 뒤 ERD를 DB에 넣는 작업을 우선적으로 진행하였다.

API 명세서의 경우에는 여러 API를 빠른 시간 내에 짜다보니 method 부분이나 URL 부분에 문제가 있는 경우가 있어서 좀더 간략화하고 기능적으로 바꾸려고 노력했다.


API 명세서 수정본 :[API 명세서 Templete_중반.xlsx](https://github.com/mock-rc2/CarrotMarket_test_Server_Skrr_Hoy/files/7454040/API.Templete_.xlsx)

ERD를 막상 DB에 넣기 위해 SQL 문으로 뽑으니 오탈자가 많이 있어 수정하는 시간이 필요했다. 자동으로 인덱스가 증가하는 부분도 넣지 않은 걸 깨달아서 여러번 수정하였다.

SQL에 삽입할 ERD 최종 : [QuickDBD-Carrot.txt](https://github.com/mock-rc2/CarrotMarket_test_Server_Skrr_Hoy/files/7454064/QuickDBD-Carrot.txt)


서버 구축을 마친 뒤, DB를 추가한 다음 큰 과제가 남았었는데, 바로 서울의 모든 행정동을 테이블에 담는 내용이었다. 전 날, 내가 구글링을 통해 mysql에서 위경도가 있을 경우 반경 n km 안에 있는 좌표를 찾는 쿼리문을 찾아와 스컬님과 상의를 하였는데 이걸 구현하기 위해서는 테이블에 모든 행정동의 대표 위경도가 필요했기 때문이다. 다행이도 구글링 결과 누군가가 엑셀 파일로 정리해 놓은 행정동 모음이 있었고, 엑셀의 중복 데이터 제거 기능을 이용해 중복된 행정동을 제거한 후 데이터를 datagrip으로 삽입이 가능하게 csv파일로 만들어서 Town 테이블에 넣을 수 있었고, 쿼리문 테스트 결과 실행이 잘 되는것을 확인할 수 있었다.

행정동 정리 엑셀, csv :[서울시_행정동_좌표2.csv](https://github.com/mock-rc2/CarrotMarket_test_Server_Skrr_Hoy/files/7454051/_._.2.csv)
[서울시_행정동_좌표.xlsx](https://github.com/mock-rc2/CarrotMarket_test_Server_Skrr_Hoy/files/7454053/_._.xlsx)


이후, user의 회원가입 기능과 logIn 기능을 담당하는 api를 제작하였다. 나는 logIn 기능을 맡았으며 스컬님이 회원가입 기능을 구현하셨다.

내일은 api 명세서를 기능을 고려해 분담하는 과정을 거친 후 본격적으로 api를 제작할 예정이다.
